<!DOCTYPE html>
<html ng-app="dvbApp">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js"
            integrity="sha512-7oYXeK0OxTFxndh0erL8FsjGvrl2VMDor6fVqzlLGfwOQQqTbYsGPv4ZZ15QHfSk80doyaM0ZJdvkyDcVO7KFA=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="docsis.js"></script>
    <link rel="stylesheet" href="oli.css">
</head>
<body ng-controller="DocsisController as docsis">

Total load: {{docsis.totalLoad()*100 | number:1}} %
<table>
    <tr>
        <th>Freq</th>
        <th></th>
        <th>Docsis</th>
        <th>Other</th>
        <th>Filler</th>
    </tr>
    <tr ng-repeat="channel in docsis.channels">
        <td>{{channel.frequency/1000/1000}}</td>
        <td>{{channel.tuneResp}}</td>
        <td style="text-align:center">{{channel.countDocsisPackets}}</td>
        <td style="text-align:center">{{channel.countUnknownPackets}}</td>
        <td style="text-align:center">{{channel.countFillerPackets}}</td>
        <td>{{100*(channel.countDocsisPackets+channel.countUnknownPackets)/(channel.countDocsisPackets+channel.countUnknownPackets+channel.countFillerPackets) | number:0}} %</td>
        <td>
            <div style="display:inline-block; width:{{channel.countDocsisPackets/20}}px; background-color:#DFD">
                &nbsp;
            </div><div style="display:inline-block; width:{{channel.countUnknownPackets/20}}px; background-color:#FFD">
                &nbsp;
            </div><div style="display:inline-block; width:{{channel.countFillerPackets/20}}px; background-color:#DDD">
                &nbsp;
            </div>
        </td>
    </tr>
</table>

</body>
</html>